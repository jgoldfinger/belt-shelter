{"ast":null,"code":"var _jsxFileName = \"/Users/jacob/Desktop/dojo/mern/fullstack/shelter/client/src/components/UpdatePet.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { navigate, Link } from '@reach/router';\nimport PetForm from './PetForm';\nimport axios from 'axios';\n\nconst UpdatePet = props => {\n  const [pet, setPet] = useState({});\n  const [loaded, setLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n  useEffect(() => {\n    grabSpecificPet();\n  }, []);\n\n  const grabSpecificPet = () => {\n    console.log(props._id);\n    axios.get(`http://localhost:8000/api/pets/${props._id}`).then(res => {\n      setPet(res.data);\n      setLoaded(true);\n    }).catch(err => console.log(err));\n  };\n\n  const updatePet = thepet => {\n    axios.put(`http://localhost:8000/api/pets/${props._id}`, thepet).then(res => {\n      console.log(res);\n\n      if (res.data.errors) {\n        setErrors(res.data.errors);\n      } else {\n        navigate(\"/\");\n      }\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, loaded && /*#__PURE__*/React.createElement(PetForm, {\n    onSubmitProp: updatePet,\n    initName: pet.name,\n    initType: pet.type,\n    initDesc: pet.description,\n    initSkill1: pet.skill1,\n    initSkill2: pet.skill2,\n    initSkill3: pet.skill3,\n    subtitle: `Edit ${pet.name}`,\n    submitMessage: \"Edit Pet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default UpdatePet;","map":{"version":3,"sources":["/Users/jacob/Desktop/dojo/mern/fullstack/shelter/client/src/components/UpdatePet.jsx"],"names":["React","useState","useEffect","navigate","Link","PetForm","axios","UpdatePet","props","pet","setPet","loaded","setLoaded","errors","setErrors","grabSpecificPet","console","log","_id","get","then","res","data","catch","err","updatePet","thepet","put","name","type","description","skill1","skill2","skill3"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,QAAR,EAAkBC,IAAlB,QAA6B,eAA7B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AAEzB,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,eAAe;AAChB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,eAAe,GAAG,MAAM;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAYT,KAAK,CAACU,GAAlB;AACAZ,IAAAA,KAAK,CAACa,GAAN,CAAW,kCAAiCX,KAAK,CAACU,GAAI,EAAtD,EACCE,IADD,CACMC,GAAG,IAAI;AACXX,MAAAA,MAAM,CAACW,GAAG,CAACC,IAAL,CAAN;AACAV,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD,KAJD,EAIGW,KAJH,CAISC,GAAG,IAAIR,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAJhB;AAKD,GAPD;;AAUA,QAAMC,SAAS,GAAGC,MAAM,IAAI;AAC1BpB,IAAAA,KAAK,CAACqB,GAAN,CAAW,kCAAiCnB,KAAK,CAACU,GAAI,EAAtD,EAAyDQ,MAAzD,EACGN,IADH,CACSC,GAAG,IAAI;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;;AACA,UAAGA,GAAG,CAACC,IAAJ,CAAST,MAAZ,EAAmB;AACjBC,QAAAA,SAAS,CAACO,GAAG,CAACC,IAAJ,CAAST,MAAV,CAAT;AACD,OAFD,MAEM;AACJV,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACD;AACF,KARH,EAQKoB,KARL,CAQWC,GAAG,IAAIR,OAAO,CAACC,GAAR,CAAYO,GAAZ,CARlB;AASD,GAVD;;AAYA,sBACE,0CACCb,MAAM,iBACL,oBAAC,OAAD;AAAS,IAAA,YAAY,EAAEc,SAAvB;AACA,IAAA,QAAQ,EAAEhB,GAAG,CAACmB,IADd;AACoB,IAAA,QAAQ,EAAEnB,GAAG,CAACoB,IADlC;AACwC,IAAA,QAAQ,EAAEpB,GAAG,CAACqB,WADtD;AAEA,IAAA,UAAU,EAAErB,GAAG,CAACsB,MAFhB;AAEwB,IAAA,UAAU,EAAEtB,GAAG,CAACuB,MAFxC;AAEgD,IAAA,UAAU,EAAEvB,GAAG,CAACwB,MAFhE;AAGA,IAAA,QAAQ,EAAG,QAAOxB,GAAG,CAACmB,IAAK,EAH3B;AAG8B,IAAA,aAAa,EAAC,UAH5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAUD,CA1CD;;AA4CA,eAAerB,SAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {navigate, Link} from '@reach/router';\nimport PetForm from './PetForm';\nimport axios from 'axios';\n\nconst UpdatePet = props => {\n  \n  const [pet, setPet] = useState({});\n  const [loaded, setLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    grabSpecificPet();\n  }, [])\n  \n  const grabSpecificPet = () => {\n    console.log(props._id);\n    axios.get(`http://localhost:8000/api/pets/${props._id}`)\n    .then(res => {\n      setPet(res.data);\n      setLoaded(true);\n    }).catch(err => console.log(err));\n  }\n  \n\n  const updatePet = thepet => {\n    axios.put(`http://localhost:8000/api/pets/${props._id}`, thepet)\n      .then( res => {\n        console.log(res);\n        if(res.data.errors){\n          setErrors(res.data.errors);\n        } else{\n          navigate(\"/\");\n        }\n      }).catch(err => console.log(err));\n  }\n\n  return (\n    <>\n    {loaded && (\n      <PetForm onSubmitProp={updatePet}\n      initName={pet.name} initType={pet.type} initDesc={pet.description}\n      initSkill1={pet.skill1} initSkill2={pet.skill2} initSkill3={pet.skill3}\n      subtitle={`Edit ${pet.name}`} submitMessage=\"Edit Pet\" />\n    )}\n    </>\n  )\n}\n\nexport default UpdatePet;"]},"metadata":{},"sourceType":"module"}