{"ast":null,"code":"import _slicedToArray from\"/Users/jacob/Desktop/dojo/mern/fullstack/shelter2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{navigate,Link}from'@reach/router';import axios from'axios';var UpdatePet=function UpdatePet(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];useEffect(function(){grabSpecificPet();},[]);var grabSpecificPet=function grabSpecificPet(){console.log(props._id);axios.get(\"http://localhost:8000/api/pets/\".concat(props._id)).then(function(res){console.log(res);setName(res.data.name);setType(res.data.type);setDescription(res.data.description);setSkill1(res.data.skill1);setSkill2(res.data.skill2);setSkill3(res.data.skill3);}).catch(function(err){return console.log(err);});};var updatePet=function updatePet(e){e.preventDefault();var thepet={name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3};axios.put(\"http://localhost:8000/api/pets/\".concat(props._id),thepet).then(function(res){console.log(res);if(res.data.errors){setErrors(res.data.errors);navigate(\"/\".concat(props._id,\"/edit\"));}else{navigate(\"/\");}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Pet Shelter\"),/*#__PURE__*/React.createElement(\"h4\",null,props.subtitle),/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Back to home\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"form\",{className:\"col-sm-8 offset-sm-2 mb-5\",onSubmit:updatePet},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),errors.name?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.name.properties.message):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Type\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:type,onChange:function onChange(e){return setType(e.target.value);}}),errors.type?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.type.properties.message):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Description\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),errors.description?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.description.properties.message):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Skill 1\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:skill1,onChange:function onChange(e){return setSkill1(e.target.value);}}),errors.skill1?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.skill1.properties.message):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Skill 2\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:skill2,onChange:function onChange(e){return setSkill2(e.target.value);}}),errors.skill2?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.skill2.properties.message):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Skill 3\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:skill3,onChange:function onChange(e){return setSkill3(e.target.value);}}),errors.skill3?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},errors.skill3.properties.message):\"\"),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-success btn-block\",value:props.submitMessage}))));};export default UpdatePet;","map":{"version":3,"sources":["/Users/jacob/Desktop/dojo/mern/fullstack/shelter2/client/src/components/UpdatePet.jsx"],"names":["React","useState","useEffect","navigate","Link","axios","UpdatePet","props","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","errors","setErrors","grabSpecificPet","console","log","_id","get","then","res","data","catch","err","updatePet","e","preventDefault","thepet","put","subtitle","target","value","properties","message","submitMessage"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {navigate, Link} from '@reach/router'; \nimport axios from 'axios';\n\nconst UpdatePet = props => {\n  const [name, setName] = useState(\"\");\n  const [type, setType] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [skill1, setSkill1] = useState(\"\");\n  const [skill2, setSkill2] = useState(\"\");\n  const [skill3, setSkill3] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    grabSpecificPet();\n  }, [])\n  \n  const grabSpecificPet = () => {\n    console.log(props._id);\n    axios.get(`http://localhost:8000/api/pets/${props._id}`)\n    .then(res => {\n      console.log(res);\n      setName(res.data.name);\n      setType(res.data.type);\n      setDescription(res.data.description);\n      setSkill1(res.data.skill1);\n      setSkill2(res.data.skill2);\n      setSkill3(res.data.skill3);\n    }).catch(err => console.log(err));\n  }\n  \n\n  const updatePet = e => {\n    e.preventDefault();\n    const thepet = {name, type, description, skill1, skill2, skill3}\n    axios.put(`http://localhost:8000/api/pets/${props._id}`, thepet)\n      .then( res => {\n        console.log(res);\n        if(res.data.errors){\n          setErrors(res.data.errors);\n          navigate(`/${props._id}/edit`);\n        } else{\n          navigate(\"/\");\n        }\n      }).catch(err => console.log(err));\n  }\n\n  return (\n    <>\n    <h1>Pet Shelter</h1>\n    <h4>{props.subtitle}</h4>\n    <Link to=\"/\">Back to home</Link>\n    <div className=\"row\">\n      <form className=\"col-sm-8 offset-sm-2 mb-5\" onSubmit={updatePet}>\n        <div className=\"form-group\">\n          <label>Name</label>\n          <input type=\"text\" className=\"form-control\" value={name} onChange={e => setName(e.target.value)}/>\n          {errors.name? <p className=\"text-danger\">{errors.name.properties.message}</p>: \"\"}\n        </div>\n        <div className=\"form-group\">\n          <label>Type</label>\n          <input type=\"text\" className=\"form-control\" value={type} onChange={e => setType(e.target.value)}/>\n          {errors.type? <p className=\"text-danger\">{errors.type.properties.message}</p>: \"\"}\n        </div>\n        <div className=\"form-group\">\n          <label>Description</label>\n          <textarea className=\"form-control\" value={description} onChange={e => setDescription(e.target.value)}></textarea>\n          {errors.description ? <p className=\"text-danger\">{errors.description.properties.message}</p>: \"\"}\n        </div>\n        <div className=\"form-group\">\n          <label>Skill 1</label>\n          <input type=\"text\" className=\"form-control\" value={skill1} onChange={e => setSkill1(e.target.value)}/>\n          {errors.skill1 ? <p className=\"text-danger\">{errors.skill1.properties.message}</p>: \"\"}\n        </div>\n        <div className=\"form-group\">\n          <label>Skill 2</label>\n          <input type=\"text\" className=\"form-control\" value={skill2} onChange={e => setSkill2(e.target.value)}/>\n          {errors.skill2 ? <p className=\"text-danger\">{errors.skill2.properties.message}</p>: \"\"}\n        </div>\n        <div className=\"form-group\">\n          <label>Skill 3</label>\n          <input type=\"text\" className=\"form-control\" value={skill3} onChange={e => setSkill3(e.target.value)}/>\n          {errors.skill3 ? <p className=\"text-danger\">{errors.skill3.properties.message}</p>: \"\"}\n        </div>\n        <input type=\"submit\" className=\"btn btn-success btn-block\" value={props.submitMessage}/>\n      </form>\n    </div>\n  </>\n  )\n}\n\nexport default UpdatePet;"]},"metadata":{},"sourceType":"module"}